{% comment %} @SPK@include("partials/mainhead.html") {% endcomment %}
{% include "../partials/mainhead.html"%}
<style>
    /* CSS for hover effect to show it's clickable */
    .clickable-div {
        cursor: pointer; /* Show pointer cursor */
        transition: background-color 0.2s ease; /* Smooth transition for background color */
    }

    .clickable-div:hover {
        background-color: #f0f0f0; /* Light background on hover */
    }

    .border-primary {
        border: 2px solid #007bff; /* Highlight user icon */
    }
    .d-flex {
        border-radius: 10px;
    }
    .text-success {
        font-weight: bold;
        color: #28a745 !important;
    }
    .table {
        border-radius: 10px;
    }

    
    table {
        border-collapse: collapse; /* Ensures proper rounding */
        width: 100%;
        border-radius: 10px; /* Adjust radius as needed */
        overflow: hidden; /* Hides overflow from corners */
        border: 2px solid #ccc; /* Optional: Border color */
    }

    th, td {
        border: 1px solid #ddd;
        padding: 10px;
        text-align: left;
    }

    th {
        background-color: #f2f2f2;
    }
</style>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

</head>

<body>
    {% load static %}
    {% comment %} @SPK@include("partials/switcher.html") {% endcomment %}
    {% include "../partials/switcher.html" %}
    <div class="page">
        {% comment %} @SPK@include("partials/header.html") {% endcomment %}
        {% include "../partials/header.html"%}
        {% comment %} @SPK@include("partials/sidebar.html") {% endcomment %}
        {% include "../partials/sidebar.html" %}
        <!-- Start::app-content -->
         
        <div class="main-content app-content" style="">

            
            <!-- Bootstrap Modal for Alert -->
            {% comment %} <div class="d-flex my-4"> {% endcomment %}
                
            {% comment %} </div> {% endcomment %}
            <div class="container mt-5">
                <!-- Exam Title and Print Button -->
                
        
                <!-- Exam Details Section -->
                
                {% comment %} <button id="print-questions-btn" class="btn ">
                    <i class="bi bi-printer"></i>
                </button> {% endcomment %}
                {% comment %} <button class="btn mb-4" id="print-questions-btn">
                    <i class="fa fa-print" aria-hidden="true"></i>
                </button> {% endcomment %}
        
                <!-- Main Content: User Attempts and Leaderboard -->
                <div class="row">
                    
                    <!-- User Attempts Section -->
                    <div class="col-lg-8 col-md-12">
                        <div style="display: flex; align-items: center; gap:4px; color:#727D73; text-align: center; font-size: 22px; font-weight: 700; text-transform: uppercase; word-spacing: 1px; letter-spacing:2px;">
                            <h4 class="mb-4" style="color: #FF8080; text-align: center; font-size: 22px; font-weight: 700; text-transform: uppercase; word-spacing: 1px; letter-spacing:2px; margin:0 auto;">Users Attempts 
                            
                        </div>
                        {% comment %} <div id="exam-details">
                            <!-- Exam details will be dynamically inserted here -->
                        </div> {% endcomment %}
                        <div class="overflow-auto">
                            <table class="table table-dark table-bordered text-center rounded-3">
                            
                                
                                <thead class=" table-bordered" style="background-color: #9BB0C1; color: #FFB200">
                                    <tr style="background-color: #51829B"><td colspan="8" id="exam-details" class="" style="text-align: center;"></td></tr>
                                    <tr style="color:white;">
                                        
                                        <th>Date</th>
                                        <th>Name</th>
                                        <th>Questions</th>
                                        <th>Answered</th>
                                        <th>Right</th>
                                        <th>Wrong</th>
                                        <th>Pass Mark</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="user-attempts" style="">
                                    
                                    <!-- Dynamically populated -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                
                    <!-- Detailed Attempt Modal -->
                    <div class="modal fade" id="attempt-details-modal" tabindex="-1" aria-labelledby="attemptDetailsModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="attemptDetailsModalLabel">Attempt Details</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body overflow-auto">
                                    <table class="table table-striped text-center overflow-hidden">
                                        <thead class="text-white" style="background-color: #80CBC4;">
                                            <tr>
                                                <th>Attempt Date</th>
                                                <th>Attempt Time</th>
                                                <th>Total Questions</th>
                                                <th>Answered</th>
                                                <th>Correct</th>
                                                <th>Wrong</th>
                                                <th>Pass Mark</th>
                                            </tr>
                                        </thead>
                                        <tbody id="user-attempts-details">
                                            <!-- Dynamically populated -->
                                        </tbody>
                                    </table>

                                    <div class="my-4">
                                        <canvas id="attemptChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                
                    <!-- Leaderboard Section -->
                    <div class="col-lg-3 col-md-12">
                        <h4 class="text-center mb-4" style="color: #FF8080">Top 10 Scorers</h4>
                        <div class="card">
                            <div class="card-body">
                                <div id="leaderboard" class="row row-cols-1 row-cols-md-2 row-cols-lg-1 g-4">
                                    <!-- Dynamic Entries will be inserted here -->
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
            
            

            <!-- MY custom macq-->



            
        </div>
        <!-- End::app-content -->

        {% comment %} @SPK@include("partials/headersearch_modal.html") {% endcomment %}
        {% include "../partials/headersearch_modal.html"%}
        {% comment %} @SPK@include("partials/footer.html") {% endcomment %}
        {% include "../partials/footer.html" %}
    </div>

    {% comment %} @SPK@include("partials/commonjs.html") {% endcomment %}
    {% include "../partials/commonjs.html"%}

    {% comment %} @SPK@include("partials/custom_switcherjs.html") {% endcomment %}
    {% include "../partials/custom_switcherjs.html"%}
    <!-- Custom JS -->
    <script src="../../../static/assets/js/custom.js"></script>

    <!-- My exam js -->
    <script src = "../../../static/Js/past_exam_result.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>const imagePath = "{% static 'images/icons/challenge.png' %}";</script>


</body>

</html>